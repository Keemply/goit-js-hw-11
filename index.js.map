{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function apiRequest(searchInput) {\n  const optionsApi = new URLSearchParams({\n    key: '46272240-cb3616e4f216aad50124ac1b5',\n    q: searchInput,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n    per_page: 21,\n  });\n\n  return fetch(`https://pixabay.com/api/?${optionsApi.toString()}`).then(\n    response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    }\n  );\n}\n","export function render(arrayObjects) {\n  if (arrayObjects.length === 0) {\n    throw new Error(response);\n  }\n\n  const insert = arrayObjects\n    .map(\n      object => `<li class=\"gallery-object\">\n    <a href='${object.largeImageURL}' class=\"simple-gal\"><img src='${object.webformatURL}' class=\"gallery-image\" alt='${object.tags}' /></a>\n    <ul class=\"gallery-stats\">\n    <li class=\"gallery-stats-likes\">Likes <span>${object.likes}</span></li>\n    <li class=\"gallery-stats-views\">Views <span>${object.views}</span></li>\n    <li class=\"gallery-stats-comments\">Comments <span>${object.comments}</span></li>\n    <li class=\"gallery-stats-downloads\">Downloads <span>${object.downloads}</span></li>\n    </ul>\n    </li>`\n    )\n    .join('');\n  return insert;\n}\n","import simpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { apiRequest } from './js/pixabay-api';\nimport { render } from './js/render-functions';\nconst form = document.querySelector('form');\nconst gallery = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\nconst simpleGallery = new simpleLightbox('.simple-gal', {\n  captionsData: 'alt',\n});\nfunction showLoader() {\n  loader.classList.remove('is-hidden');\n}\nfunction hideLoader() {\n  loader.classList.add('is-hidden');\n}\nfunction submitHandler(event) {\n  event.preventDefault();\n  gallery.innerHTML = '';\n  showLoader();\n  apiRequest(form[0].value)\n    .then(data => {\n      hideLoader();\n      const dataJson = data.hits;\n      gallery.insertAdjacentHTML('beforeend', render(dataJson));\n    })\n    .then(() => {\n      simpleGallery.refresh();\n    })\n    .catch(error => {\n      // Error handling\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n      });\n    });\n\n  form.reset();\n}\nform.addEventListener('submit', submitHandler);\n"],"names":["apiRequest","searchInput","optionsApi","response","render","arrayObjects","object","form","gallery","loader","simpleGallery","simpleLightbox","showLoader","hideLoader","submitHandler","event","data","dataJson","error","iziToast"],"mappings":"6vBAAO,SAASA,EAAWC,EAAa,CACtC,MAAMC,EAAa,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,OACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,4BAA4BC,EAAW,SAAU,CAAA,EAAE,EAAE,KAChEC,GAAY,CACV,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACjB,CACL,CACA,CCnBO,SAASC,EAAOC,EAAc,CACnC,GAAIA,EAAa,SAAW,EAC1B,MAAM,IAAI,MAAM,QAAQ,EAgB1B,OAbeA,EACZ,IACCC,GAAU;AAAA,eACDA,EAAO,aAAa,kCAAkCA,EAAO,YAAY,gCAAgCA,EAAO,IAAI;AAAA;AAAA,kDAEjFA,EAAO,KAAK;AAAA,kDACZA,EAAO,KAAK;AAAA,wDACNA,EAAO,QAAQ;AAAA,0DACbA,EAAO,SAAS;AAAA;AAAA,UAGrE,EACA,KAAK,EAAE,CAEZ,CCbA,MAAMC,EAAO,SAAS,cAAc,MAAM,EACpCC,EAAU,SAAS,cAAc,eAAe,EAChDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAgB,IAAIC,EAAe,cAAe,CACtD,aAAc,KAChB,CAAC,EACD,SAASC,GAAa,CACpBH,EAAO,UAAU,OAAO,WAAW,CACrC,CACA,SAASI,GAAa,CACpBJ,EAAO,UAAU,IAAI,WAAW,CAClC,CACA,SAASK,EAAcC,EAAO,CAC5BA,EAAM,eAAc,EACpBP,EAAQ,UAAY,GACpBI,IACAZ,EAAWO,EAAK,CAAC,EAAE,KAAK,EACrB,KAAKS,GAAQ,CACZH,IACA,MAAMI,EAAWD,EAAK,KACtBR,EAAQ,mBAAmB,YAAaJ,EAAOa,CAAQ,CAAC,CAC9D,CAAK,EACA,KAAK,IAAM,CACVP,EAAc,QAAO,CAC3B,CAAK,EACA,MAAMQ,GAAS,CAEdC,EAAS,MAAM,CACb,QACE,0EACV,CAAO,CACP,CAAK,EAEHZ,EAAK,MAAK,CACZ,CACAA,EAAK,iBAAiB,SAAUO,CAAa"}